---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

interface Props {
  post: CollectionEntry<"blog">;
}

const { post } = Astro.props as Props;
---

<a href={`/blog/${post.slug}/`} class="group block">
  <article
    class="bg-dark text-light overflow-hidden transition-all duration-300 hover:shadow-sexy hover:scale-102 shadow-sexy-lg shadow-turquoise-highlight"
  >
    {
      post.data.cover && (
        <Image
          src={post.data.cover}
          alt={post.data.title}
          class="w-full h-48 object-cover"
          loading="lazy"
          layout="constrained"
          transition:name={`${post.slug}-image`}
        />
      )
    }
    <div class="p-4 flex flex-col gap-2">
      <h3
        class="text-2xl font-redaction-20 group-hover:underline"
        transition:name={`${post.slug}-title`}
      >
        {post.data.title}
      </h3>
      <p class="text-sm font-space-mono">
        {
          new Date(post.data.date).toLocaleDateString("es-AR", {
            year: "numeric",
            month: "short",
            day: "numeric",
          })
        }
      </p>
      <p class="font-merriweather">{post.data.description}</p>
    </div>
  </article>
</a>
